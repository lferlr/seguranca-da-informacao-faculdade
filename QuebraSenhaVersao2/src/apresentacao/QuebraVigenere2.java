package apresentacao;

public class QuebraVigenere2 {
	private static final String CRIPTOGRAMA = "0053270f21331264022261252d01222f9b360367a853310b672c9a3009232e5320036722012d16332e14360721281264173224533115266106290767329a360f22611721462328152114222f07211567221a2214263253200367029a37073561112515222017251567241e640a223501251567251664132a205337032929126a4613331230076a3216640222610629076737163615a42e53370f2a311f2d002e2212200767251664132a205329072e3253230335201f64052e2701254623245337132532072d12322894a70967311c280f262d152504ae351a27076b611a2a10222f0725022661032b14670d162b082261312512332800300767001f260335351a64052233102546232453755271745d642767281d320329a6902b46232053270f21331264022261252d01222f9b360367a8532114352017250b222f0721462635012d0432ac17254626613128072e321664022261252d01222f9b36037c61162a05282f0736076a321664093528142d08262d1e210833245320033422012d122661032b1467061a2b10262f53060733280030076703162807342e532a0967321631462b280536096725123007232e532003677046715567221c2946286107a912322d1c642a2661102d0035205320032b6f53170f206f53030f2837122a460520072d1533205306032b20002b48670400300767221a221426619a640b3228072b46242e1d2c032428172546372e01351322619a6400a6221a2846232453340335221626033561166402226103b01467241e641635a0072d05266d5334073524102108232e5f6407673006210b6735162946372e062707673101a5122e22126846363416648f67281d3513222301a510222d536c0f292516270f21339232032b685d6425282f00211732241d30032a241d30036b611e310f332e006416352e1436072a20172b142232532d0b372d16290329351236072a6116371732241e251567251664053528033009203312220f26611d25156732062515672003280f242094b10334610231036732902b46292e53211534241d270f262d53270f2133123746232453120f20241dac14226d5321463634166415a42e53220724281f29032935166417322411360723200064162833533513262d023103356110360f37351c2508262d1a3712266f";
	
	public static void main(String[] args) {
		for (int tamanhoDaSenha = 1; tamanhoDaSenha < 11 ; tamanhoDaSenha++) {
			System.out.println("=====================================");
			System.out.println("Teste do tamanho de senha: " + tamanhoDaSenha);
			System.out.print("Senha encontrada: ");
			
			for(int grupoDoCaractereDaSenha = 0 ; grupoDoCaractereDaSenha < tamanhoDaSenha ; grupoDoCaractereDaSenha++) {
				
				int[] vetorDeFrequenciaDeCaracteres = new int[256];
				
				// Contagem da frenquecia dos caracteres ^ 32
				for (int i = 0; i < (CRIPTOGRAMA.length() - 1); i+=2) {
					String hexaDecimal = CRIPTOGRAMA.substring(i, i + 2);
					
					if(((i / 2) % tamanhoDaSenha) == grupoDoCaractereDaSenha) {
						//Colocando os espaços na mensagem 
						vetorDeFrequenciaDeCaracteres[Integer.parseInt(hexaDecimal, 16) ^ 32]++;	
					}
				}
				// Descobrir o caractere que aparece mais vezes
				int caractereQueApareceMaisVezes = -1;
				int maiorOcorrencia = 0;
				
				for (int i = 48; i < vetorDeFrequenciaDeCaracteres.length; i++) {
					if(vetorDeFrequenciaDeCaracteres[i] > maiorOcorrencia) {
						//Amostra do vetor de Frequencia de Caracteres
						// vetor[a] = 2
						// vetor[b] = 10
						// vetor[c] = 5
						// vetor[d] = 15	
						String temp = "" + ((char) i);
						if (temp.length() > 0) {
							maiorOcorrencia = vetorDeFrequenciaDeCaracteres[i];
							caractereQueApareceMaisVezes = i;
						}
					}
				}
					
				System.out.print((char)caractereQueApareceMaisVezes);	
			}
			System.out.println("");
		}
	}
}
// 05551b5f59310f200c11d9523f186e555f016a05275e5e172307214210162f552b5f431b241a6e5f515229143e58441326552a5e10022b983d1f103b24143b5645002b112111531d271a6e72551c3e07211154176a302042591c25551b5f591423162f555f522e106e73421339982258515267550d7465306a102311014b7c4d6211441d381b21441d012f552111400023182b58421d6a162b5f440025553b5f59042f073d584493381c211154136a072b565991255520501016a3162f5551522e106e0800522f553e50430125006e50101122142350425f39106e72551c3e072111651c23032b43431b3e943c585f522e106e73421339982258515267551b5f59310f200c1f103125186e545e01231b211154176a103652551ea01b2d5851522f553e5e5c9f3e1c2d5010162f553c545e1d3c14a9d25f523a103c5c511c2f1b3a541c522b55275f430623013b58d79125552f525f1f3a14205951522b066e54461d2600a9c455016a012b525e1d26862958531339552b1140172e1429c2571b29143d1f103d6a20205873371f376e5e561738102d5410113f073d5e435224143d11d1002f143d1154176a1627db5e1123143d115a0738982a58531339596e525998241627504352391a2d58511b39596e5259982416275043522f0d2f45510166552d58da1c291c2f4210162b553d50ca162f596e5259982416275043522e146e5454072914a9d25f522f553a54531c25192156591366552f5dd91f6a11214210113f073d5e43522e106e41c30167123c5054072b92ad5e101e2b012111555239013c58530625553d545e013f5b